<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="author" content="wupeixi">

  
  

  <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>

<body>
  <header id="header" class="inner"><nav>
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
</nav></header>
  <div id="content" class="inner">
  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <header>
    
  
    <h1 class="title"><a href="/title/">Set up Blog with hexo</a></h1>
  

    <time datetime="2018-04-20T11:02:00.000Z">
  <span class="day">20</span><span class="month">Apr</span>
</time>
  </header>
  <div class="entry-content">
    
      <h2 id="ubuntu安装"><a href="#ubuntu安装" class="headerlink" title="ubuntu安装"></a>ubuntu安装</h2><h3 id="1-制作U盘启动盘"><a href="#1-制作U盘启动盘" class="headerlink" title="1.制作U盘启动盘"></a>1.制作U盘启动盘</h3><ol>
<li><p>官网或开源镜像站下载ubuntu server版iso文件（我是在<a href="http://mirrors.163.com/" target="_blank" rel="noopener">网易开源镜像站</a>下载的16.04.4版）;</p>
</li>
<li><p>使用UltraISO或其他软件刻录iso文件到U盘。注意！再拷贝一份ios到U盘根目录（后面安装会用到）,建议重命名为<code>ubuntu</code>，方便之后输入。</p>
</li>
</ol>
<h3 id="2-磁盘分区"><a href="#2-磁盘分区" class="headerlink" title="2.磁盘分区"></a>2.磁盘分区</h3><p>选定一个磁盘（我选的是装win10的ssd），给ubuntu系统分区，分区可用windows系统自带功能（win+x打开磁盘管理，对要操作的磁盘点击右键，选择压缩卷），也可用其他软件（关于分区的大小，按个人而定吧，我分的是30g）。</p>
<h3 id="3-BIOS设置"><a href="#3-BIOS设置" class="headerlink" title="3.BIOS设置"></a>3.BIOS设置</h3><p>重启电脑，进入BIOS，将security boot设置为disable，然后在boot里设置U盘为首启动项，重启。</p>
<h3 id="4-安装"><a href="#4-安装" class="headerlink" title="4.安装"></a>4.安装</h3><p>选择Install ubuntu，按提示操作。中间会出现无法读取CD-ROM的问题，解决方案：</p>
<ol>
<li><p>按Alt+F2进入终端</p>
</li>
<li><p>输入<code>df -h</code>查看USB盘符信息，根据自己U盘大小辨认出U盘的名字（我的是<code>/dev/sdc4</code>）</p>
</li>
<li><p>挂载USB到mnt目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">umount /dev/sdc4</span><br><span class="line">mount /dev/sdc4 /mnt</span><br></pre></td></tr></table></figure>
</li>
<li><p>挂载iso文件到/cdrom目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o loop /mnt/ubuntu.iso /cdrom    #这里的ubuntu.iso就是刚才拷贝的iso文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>Alt+F1返回安装界面，继续按提示安装，分区时我选择的是向导最大连续空闲空间，让程序自动分区。<strong><em>最后安装软件，记得选上openssh server。</em></strong></p>
</li>
</ol>
<p>至此，ubuntu安装成功！</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.cnblogs.com/hf19950918/p/8505151.html" target="_blank" rel="noopener">https://www.cnblogs.com/hf19950918/p/8505151.html</a></p>

    
    
    <footer class="meta">
      
  <div class="cats">
<a href="/categories/Diary/">Diary</a></div>

      
  <div class="tags">
<a href="/tags/ubuntu/">ubuntu</a></div>

      
    </footer>
    
  </div>
  
</article>

  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <header>
    
  
    <h1 class="title"><a href="/title/">Set up Blog with hexo</a></h1>
  

    <time datetime="2018-04-20T07:00:00.000Z">
  <span class="day">20</span><span class="month">Apr</span>
</time>
  </header>
  <div class="entry-content">
    
      <h2 id="一、名词了解"><a href="#一、名词了解" class="headerlink" title="一、名词了解"></a>一、名词了解</h2><ul>
<li><h3 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h3></li>
</ul>
<p><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a>是一款静态博客生成器。静态的意思是指生成的博客网站访客只能浏览，没法像淘宝那样在我们的网站上提交信息。Hexo 负责把我们写的 Markdown 文件根据选定的主题（规定网站的外观样式的文件）生成一堆 HTML 以及负责外观样式的 CSS 和 Javascript 文件。此外，Hexo 还提供了帮我们把这一堆 HTML、CSS、Javascript 文件上传到 Github 服务器的功能，也就是部署。</p>
<ul>
<li><h3 id="Github-Page"><a href="#Github-Page" class="headerlink" title="Github Page"></a>Github Page</h3></li>
</ul>
<p>我们平时在新浪上看新闻的时候，所有的东西都要从新浪服务器发送到我们的手机、电脑上。我们的网站也一样，需要一个服务器，把用 Hexo 生成的那些 HTML、CSS、Javascript 文件发送给访客。但我们自己没有服务器呀？Github Pages 是 <a href="https://github.com/" target="_blank" rel="noopener">Github </a>提供的一项免费的静态页面托管服务，提供 your_name.github.io 的域名（your_name 为你的 Github 用户名）发布自己的静态网站。我们把 Hexo 生成的内容上传到 Github 服务器，访客的浏览器就是从 Github 服务器获取相关文件的。</p>
<h2 id="二、Hexo-本地建站"><a href="#二、Hexo-本地建站" class="headerlink" title="二、Hexo 本地建站"></a>二、Hexo 本地建站</h2><h3 id="1-安装Hexo"><a href="#1-安装Hexo" class="headerlink" title="1.安装Hexo"></a>1.安装Hexo</h3><ol>
<li>安装<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a>和<a href="https://git-scm.com/download" target="_blank" rel="noopener">Git</a>，我装的分别是是8.11.1和2.16.0.2版本；</li>
<li>在终端（cmd、Git bash、Node.js command prompt 均可）中敲入如下命令，回车等待安装完成。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="2-建立站点"><a href="#2-建立站点" class="headerlink" title="2.建立站点"></a>2.建立站点</h3><ol>
<li><p>先在电脑中的某一位置建立好 <code>your_name.github.io</code> 文件夹，我的是<code>D:\Blog\wupeixi.github.io</code>；</p>
</li>
<li><p>在终端中切换到 <code>your_name.github.io</code> 文件夹所在的路径；</p>
</li>
<li><p>由于默认的 NPM 镜像实在太慢太慢，我们把源替换成淘宝的镜像，在终端中执行如下命令， 需要注意的是，这一次切换是暂时的，如果下回从 npm 下载一些东西还是觉得非常慢，记得再执行一次这一条命令；</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config <span class="built_in">set</span> registry <span class="string">"https://registry.npm.taobao.org"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>依次执行下面两条命令，建立我们的新网站：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<p>完成后，<code>your_name.github.io</code> 文件夹下面的目录如下：</p>
<ul>
<li><code>_config.yml</code>文件存放着网站的配置信息，可以在这里配置大部分的参数。</li>
<li><code>package.json</code> 文件存放着插件信息，从中可以查看那些插件已经安装。</li>
<li><code>scaffolds</code> 是模板文件夹，新建文章时，Hexo 会根据 <code>scaffold</code> 来建立文件，不过这个模板和后面的主题里指的模板不一样。</li>
<li><code>source</code> 是存放用户资源的地方的文件夹，除<code>_posts</code> 文件夹之外，开头命名为 _ (下划线) 的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 <code>public</code> 文件夹（别急，等下会生成的），而其他文件会被拷贝过去。</li>
<li><code>themes</code> 主题文件夹，Hexo 会根据主题来生成静态页面，我们以后自己安装的主题也都会放在这个文件夹下面，默认的 landscape 主题已经在里面了。</li>
</ul>
</li>
</ol>
<ol start="5">
<li>在终端中敲入<code>hexo server</code>（确保路径仍在 <code>your_name.github.io</code> 下），就可以在<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 中看到我们网站默认的样子了。</li>
</ol>
<h3 id="3-配置站点"><a href="#3-配置站点" class="headerlink" title="3.配置站点"></a>3.配置站点</h3><p>在<code>_config.yml</code>中，我们可以修改大部份的配置，里面每一个参数的含义可以查看 Hexo 的官方文档 <a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">开始使用 — 配置</a> ，这里暂且修改<code>title</code>，<code>subtitle</code> 和<code>author</code>，替换成自己网站的名字和作者名即可。另外，我觉得默认的网址链接有点长，将<code>permalink: :year/:month/:day/:title/</code>改成<code>permalink: title/</code>，<code>per_page</code> 决定首页显示多少篇文章，默认的 10 篇有点多，我改成了 5 篇。</p>
<h3 id="4-生成自己的内容"><a href="#4-生成自己的内容" class="headerlink" title="4.生成自己的内容"></a>4.生成自己的内容</h3><ol>
<li><p>在<code>source\ _posts</code> 文件夹下，新建一个 Markdown（.md） 文件，根据 Hexo 的官方文档 <a href="https://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">基本操作 — Front-matter</a> ，写好你的第一篇文章，或者把你以前有的 Markdown 文件复制进来；</p>
</li>
<li><p>在终端中敲入如下命令：<code>$ hexo generate</code>Hexo 会替我们刚加入到 <code>_posts</code>文件夹下的 markdown 文件生成静态文件。运行 <code>$ hexo server</code> 可以在 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 中看到我们新添加的网页内容了。</p>
</li>
</ol>
<h3 id="5-小结"><a href="#5-小结" class="headerlink" title="5.小结"></a>5.小结</h3><p>至此，我们采用默认主题 landscape 的网站已经生成了，主要是下面几个命令：</p>
<ul>
<li><p><code>$ hexo init [folder]</code>: 新建一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站；</p>
</li>
<li><p><code>$ hexo generate</code>: 生成静态文件；</p>
</li>
<li><p><code>$ hexo server</code>: 启动服务器。默认情况下，访问网址为： <a href="http://localhost:4000/；" target="_blank" rel="noopener">http://localhost:4000/；</a></p>
</li>
<li><p><code>$ hexo deploy</code>: 部署网站（后文会用得）；</p>
</li>
<li><p><code>$ hexo clean</code>: 清除缓存文件 <code>db.json</code>和 <code>public</code>文件夹下已生成的静态文件。</p>
</li>
</ul>
<h3 id="6-更换主题"><a href="#6-更换主题" class="headerlink" title="6.更换主题"></a>6.更换主题</h3><ol>
<li><p>在 Demo 页面上找到该主题的 Github 主页，比如 Noise 就是在其页底的 Theme <a href="https://github.com/lotabout/hexo-theme-noise" target="_blank" rel="noopener">noise</a> 字样上。如果没找到，可以在 Github 上的 <a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">hexo - Wiki - Themes</a> 中搜索对应主题名，<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">hexo - Wiki - Themes</a> 整理了每个 Hexo 主题的 项目主页 和 Demo 网址；</p>
</li>
<li><p>根据 <a href="https://github.com/lotabout/hexo-theme-noise" target="_blank" rel="noopener">Noise 主页</a>上的文档，我们需要先安装主题和渲染器：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> </span><br><span class="line">$ https://github.com/lotabout/hexo-theme-noise themes/noise</span><br><span class="line">$ npm install hexo-renderer-less --save</span><br><span class="line">$ npm install hexo-renderer-jade --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>将<code>your_name.github.io/_config.yml</code> 中的 <code>theme</code>的值由原来默认的<code>landscape</code> 改为<code>noise</code> 。</p>
</li>
<li><p>至此，主题已经更换完成，依次运行<code>$ hexo clean</code>, <code>$ hexo generate</code>,<code>$ hexo server</code>我们可以在 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 上查看我们网站新的样式。</p>
</li>
</ol>
<h2 id="三、部署到-Github"><a href="#三、部署到-Github" class="headerlink" title="三、部署到 Github"></a>三、部署到 Github</h2><h3 id="1-创建仓库"><a href="#1-创建仓库" class="headerlink" title="1.创建仓库"></a>1.创建仓库</h3><p>在gihub上new一个repository，<code>Repository name</code> 一定要是<code>your_name.github.io</code> ，your_name 是你的 Github 的用户名。</p>
<h3 id="2-Git设置"><a href="#2-Git设置" class="headerlink" title="2.Git设置"></a>2.Git设置</h3><p>在 Git Bash 中执行如下代码即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"YOUR NAME"</span></span><br><span class="line">$ git config --global user.email <span class="string">"YOUR EMAIL ADDRESS"</span></span><br></pre></td></tr></table></figure>
<h3 id="3-连接GitHub和Git"><a href="#3-连接GitHub和Git" class="headerlink" title="3.连接GitHub和Git"></a>3.连接GitHub和Git</h3><ol>
<li><p>生成新的 SSH key</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -b 4096 -C <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将 SSH key 添加到 ssh-agent。<a href="https://en.wikipedia.org/wiki/Ssh-agent" target="_blank" rel="noopener">ssh-agent</a> 是一个在本地登录会话持续时间内，将未加密的密钥存储在内存中，并使用 Unix 域套接字与 SSH 客户端进行通信的程序。根据 Github 的官方文档 <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#adding-your-ssh-key-to-the-ssh-agent" target="_blank" rel="noopener">Adding your SSH key to the ssh-agent</a> ， 我们在 Git Bash 下执行如下命令，开启 ssh-agent</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">eval</span> <span class="string">"<span class="variable">$(ssh-agent -s)</span>"</span></span><br></pre></td></tr></table></figure>
<p>然后我们要将这个 SSH key 添加到 ssh-agent 里去，运行如下命令，其中 id_rsa 是你的 key 文件的文件名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
</li>
<li><p>将 SSH key 添加到 Github 账户。通过以下命令将ssh key复制到剪切板</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ clip &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>然后登录 Github 帐号，依次点击自己的头像，<code>Settings</code>，<code>SSH and GPG keys</code>，<code>New SSH key</code> 或者 <code>Add SSH key</code>， 在 <code>Title</code> 这里输入 Key 的label，比如 your_name - PC，然后在 Key 里面把 SSH Key 粘贴进去，点击 <code>Add SSH key</code> 大功告成。</p>
</li>
<li><p>测试 SSH 连接。在 Git Bash 中敲入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>之后输入 <code>yes</code>敲回车，就可以看到成功的信息了。</p>
</li>
</ol>
<h3 id="4-Hexo-部署"><a href="#4-Hexo-部署" class="headerlink" title="4.Hexo 部署"></a>4.Hexo 部署</h3><p>Hexo 提供了 <code>hexo deploy</code> 命令，可以方便地将整个 <code>public</code> 文件夹部署到 Github 服务器上去。步骤如下：</p>
<ol>
<li><p>在终端中运行如下命令，安装 hexo-deployer-git 插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 _config.yml 中修改参数，如下所示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/your_name/your_name.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>其中，<code>your_name</code> 是你的 Github 帐号名。<code>repo</code> 对应的是你 your_name.github.io 这个项目的库（Repository）地址，进入这个项目的主页，点击 <code>Clone or download</code> 下拉菜单也能看到。<code>branch</code> 是分支名称，如果使用的是 GitHub 或 GitCafe 的话，程序会尝试自动检测，通常都是 master。<strong><em>注意，冒号后的空格非常重要，一定要有！</em></strong></p>
</li>
</ol>
<h3 id="5-小结-1"><a href="#5-小结-1" class="headerlink" title="5.小结"></a>5.小结</h3><p>至此，在终端执行 <code>hexo deploy</code>命令，就可以把我们的网站部署到 Github 服务器上。在第一次部署的时候，Github 还会跳出来一个小窗口，让你输入 Github 帐号和密码，输入即可。然后就可以通过 your_name.github.io （your_name 是你的 Github 用户名）来访问自己的网站了。之后要更新博客，执行<code>hexo g -d</code>即可，即<code>hexo generate --deploy</code>的简化。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="http://lowrank.science/Hexo-Github/" target="_blank" rel="noopener">http://lowrank.science/Hexo-Github/</a></p>

    
    
    <footer class="meta">
      
  <div class="cats">
<a href="/categories/Diary/">Diary</a></div>

      
  <div class="tags">
<a href="/tags/hexo/">hexo</a></div>

      
    </footer>
    
  </div>
  
</article>


<nav id="pagenavi">
  
  
  <div class="clearfix"></div>
</nav></div>
  <footer id="footer" class="inner"><div class="social alignright">
  
  
  
  
  <a class="rss" href="/atom.xml" title="RSS">RSS</a>
</div>
<p>
  
  &copy; 2018 wupeixi
  
</p>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id="phasebeam">
  <canvas></canvas>
  <canvas></canvas>
  <canvas></canvas>
</div>
<script src="/js/phasebeam.js"></script>
</body>
</html>